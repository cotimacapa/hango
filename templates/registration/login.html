{% extends "base.html" %}
{% load i18n %}

{% block title %}Entrar • Hango{% endblock %}

{# optional, if your base supports it #}
{% block body_class %}auth-page{% endblock %}

{% block content %}
<section class="section auth-viewport">
  <div class="container">
    <div class="columns is-centered">
      <div class="column is-12-mobile is-8-tablet is-5-desktop is-4-widescreen">
        <div class="box login-card">
          <h1 class="title has-text-centered is-3">{% trans "Entrar" %}</h1>

          {# non-field errors (e.g. credenciais inválidas) #}
          {% if form.non_field_errors %}
            <div class="notification is-danger is-light">
              {{ form.non_field_errors }}
            </div>
          {% endif %}

          <form method="post" action="{% url 'login' %}" novalidate>
            {% csrf_token %}
            {% if next %}<input type="hidden" name="next" value="{{ next }}">{% endif %}

            {# Username/CPF field. If your form uses "cpf", this falls back to it. #}
            {% with user_field=form.username|default:form.cpf %}
              <div class="field">
                <label class="label" for="{{ user_field.id_for_label }}">{% trans "CPF" %}</label>
                <div class="control">
                  <input
                    class="input"
                    type="text"
                    id="{{ user_field.id_for_label }}"
                    name="{{ user_field.html_name }}"
                    value="{{ user_field.value|default_if_none:'' }}"
                    placeholder="{% trans 'CPF' %}"
                    autocomplete="username">
                </div>
                {% for error in user_field.errors %}
                  <p class="help is-danger">{{ error }}</p>
                {% endfor %}
              </div>
            {% endwith %}

            {# Password field #}
            {% with pass_field=form.password %}
              <div class="field">
                <label class="label" for="{{ pass_field.id_for_label }}">{% trans "Senha" %}</label>
                <div class="control">
                  <input
                    class="input"
                    type="password"
                    id="{{ pass_field.id_for_label }}"
                    name="{{ pass_field.html_name }}"
                    placeholder="{% trans 'Senha' %}"
                    autocomplete="current-password">
                </div>
                {% for error in pass_field.errors %}
                  <p class="help is-danger">{{ error }}</p>
                {% endfor %}
              </div>
            {% endwith %}

            <div class="field">
              <button class="button is-primary is-fullwidth" type="submit">
                {% trans "Entrar" %}
              </button>
            </div>
          </form>

          <p class="help has-text-centered mt-4">
            {% trans "Não consegue entrar? Entre em contato com nossa equipe para receber uma senha temporária." %}
          </p>
        </div>
      </div>
    </div>
  </div>
</section>
{% endblock %}
